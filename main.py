import telebot
import random
import datetime
from telebot import types


token = 'token'
bot = telebot.TeleBot(token)

def dayly_card(number):
    dict_card = {1: '<b> ๐ชะะฃะะะ๐ช (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต) </b> ...',
                 23: '<b> ๐ชะะฃะะะ๐ช (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต) </b> ...',
                 2: '<b> ๐ฅะะะ๐ฅ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 24: '<b> ๐ฅะะะ๐ฅ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 3: '<b> ๐ะะะะฅะะะะะฏ ะะะะฆะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 25: '<b> ๐ะะะะฅะะะะะฏ ะะะะฆะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 4: '<b> ๐ะะะะะะะขะะะฆะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 26: '<b> ๐ะะะะะะะขะะะฆะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 5: '<b> ๐ะะะะะะะขะะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 27: '<b> ๐ะะะะะะะขะะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 6: '<b> ๐ะะะะฆ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 28: '<b> ๐ะะะะฆ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 7: '<b> ๐ะะะฎะะะะะะซะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 29: '<b> ๐ะะะฎะะะะะะซะ๐(ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 8: '<b> ๐ดะะะะะกะะะฆะ๐ด (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 30: '<b> ๐ดะะะะะกะะะฆะ ๐ด(ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 9: '<b> ๐ชะกะะะ๐ช (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 31: '<b> ๐ชะกะะะ๐ช(ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 10: '<b> ๐ะะขะจะะะฌะะะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 32: '<b> ๐ะะขะจะะะฌะะะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 11: '<b> ๐ฎะะะะะกะ ะคะะะขะฃะะซ๐ฎ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 33: '<b๐ช> ๐ฎะะะะะกะ ะคะะะขะฃะะซ๐ฎ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 12: '<b> ๐ฏะกะะะะะะะะะะะกะขะฌ๐ฏ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 34: '<b> ๐ฏะกะะะะะะะะะะะกะขะฌ๐ฏ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 13: '<b> ๐ะะะะะจะะะะซะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 35: '<b> ๐ะะะะะจะะะะซะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 14: '<b> ๐ะกะะะะขะฌ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 36: '<b> ๐ะกะะะะขะฌ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 15: '<b> ๐ะฃะะะะะะะะกะขะฌ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 37: '<b> ๐ะฃะะะะะะะะกะขะฌ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 16: '<b> ๐ะะฌะฏะะะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 38: '<b> ๐ะะฌะฏะะะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 17: '<b> ๐ฏะะะจะะฏ๐ฏ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 39: '<b> ๐ฏะะะจะะฏ๐ฏ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 18: '<b> ๐ะะะะะะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 40: '<b> ๐ะะะะะะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 19: '<b> ๐ะะฃะะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 41: '<b> ๐ะะฃะะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 20: '<b> ๐ะกะะะะฆะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 42: '<b> ๐ะกะะะะฆะ ๐(ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 21: '<b> ๐ะกะฃะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 43: '<b> ๐ะกะฃะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 22: '<b> ๐ะะะ๐ (ะฟััะผะพะต ะฟะพะปะพะถะตะฝะธะต)</b> ...',
                 44: '<b> ๐ะะะ๐ (ะฟะตัะตะฒะตัะฝััะพะต ะฟะพะปะพะถะตะฝะธะต)</b>
    return(dict_card[number])


@bot.message_handler(commands=['start'])
def start(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    btn1 = types.KeyboardButton("ะะพะฟัะธะฒะตัััะฒะพะฒะฐัั ะตัะต ัะฐะท ๐")
    btn2 = types.KeyboardButton("ะะฐััะฐ ะดะฝั ๐")
    btn3 = types.KeyboardButton("ะัะฟัะฐะฒะธัั ัะธะดะฑะตะบ ๐ฌ")
    btn4 = types.KeyboardButton("ะะฐะบะธะต ะพะฑะฝะพะฒะปะตะฝะธั ะทะฐะฟะปะฐะฝะธัะพะฒะฐะฝั? ๐")
    markup.add(btn1, btn2, btn3, btn4)
    name = message.from_user.first_name
    bot.send_message(message.chat.id, 'โจะัะธะฒะตั ' + str(name) + '!โจ \nะฏ ะฒะธะถั, ััะพ ัั ัะพัะตัั ะฟัะธะพัะบัััั ะทะฐะฒะตัั ัะฐะนะฝ ะธ ะฟะพะปััะธัั ะฟัะตะดัะบะฐะทะฐะฝะธะต ะฝะฐ ะทะฐััะฐ? \nะะพะฟัะพัะธ ะฒััะฐัะธัั ะบะฐััั ะดะฝั ะธ ั ะฒัะต ัะฐััะบะฐะถั ัะตะฑะต!๐ซ', reply_markup=markup)



@bot.message_handler(func=lambda message: True)
def card_message(message):
    global last_message
    card = 'ะบะฐัั'
    day = 'ะดะฝั'
    if last_message:
        file_path = 'feedback.txt'
        with open(file_path, 'a') as feedback_file:
            feedback_file.write(str(datetime.datetime.fromtimestamp(message.date)) + ' - ' + message.from_user.username + ' - ' + message.text + '\n')
        last_message = None
        bot.send_message(message.chat.id, text="ะกะฟะฐัะธะฑะพ ะทะฐ ะฒะฐั ะพัะทัะฒ!โจ")
    if(message.text == 'ะะพะฟัะธะฒะตัััะฒะพะฒะฐัั ะตัะต ัะฐะท ๐'):
        bot.send_message(message.chat.id, text=f'ะะดัะฐะฒััะฒัะน {message.from_user.first_name}!โจ \nะฅะพัะตัั ะฟะพัะผะพััะตัั, ััะพ ะบะฐััั ะฟัะตะดะฒะตัะฐัั ัะตะฑะต ัะตะณะพะดะฝั?๐ซ')
    if(message.text == 'ะะฐะบะธะต ะพะฑะฝะพะฒะปะตะฝะธั ะทะฐะฟะปะฐะฝะธัะพะฒะฐะฝั? ๐'):
        bot.send_message(message.chat.id, text='ะะพะฝะตัะฝะพ, ะพัะฝะพะฒะฝัะต ะฟะปะฐะฝั - ััะพ ะดะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ะฒะฐัะธะฐะฝัะพะฒ ัะฐัะบะปะฐะดะพะฒ, ัะปัััะตะฝะธะต ััะฐะบัะพะฒะพะบ, ะดะพะฑะฐะฒะปะตะฝะธะต ะธะทะพะฑัะฐะถะตะฝะธะน. ะะดะฝะฐะบะพ, ะผั ะฒัะตะณะดะฐ ะพัะบัััั ะบ ะฟัะตะดะปะพะถะตะฝะธัะผ ะธ ั ัะฐะดะพัััั ัััะตะผ ะธ ะฒะพะทัะผะตะผ ะฝะฐ ะฒะพะพััะถะตะฝะธะต ะฒะฐัะธ ะธะดะตะธ.โก \nะะฐะถะธะผะฐะน ะบะฝะพะฟะบั "ะคะธะดะฑะตะบ", ััะพะฑั ัะฐััะบะฐะทะฐัั ะพ ะฝะธั!๐ ')
    if(message.text == 'ะัะฟัะฐะฒะธัั ัะธะดะฑะตะบ ๐ฌ'):
        bot.send_message(message.chat.id, text='ะกะฟะฐัะธะฑะพ ะฑะพะปััะพะต, ััะพ ัะตัะธะป ัะดะตะปะธัั ะฒัะตะผั ะธ ะฝะฐะฟะธัะฐัั ัะฒะพะน ะพัะทัะฒ ะพ ะฑะพัะต ะธะปะธ ะบะฐะบะธะต-ะปะธะฑะพ ะฟัะตะดะปะพะถะตะฝะธั! ะะปั ะฝะฐั ััะพ ะพัะตะฝั ะฒะฐะถะฝะพ, ะฒะตะดั ะผั ััะฐัะฐะตะผัั ััะฐัั ะปัััะต.\n\n ะกะพะพะฑัะตะฝะธะต, ะบะพัะพัะพะต ัั ะฝะฐะฟะธัะตัั ะฝะธะถะต, ะฑัะดะตั ะดะพััะฐะฒะปะตะฝะพ ะบ ะฝะฐะผ ะธ ััะฐัะตะปัะฝะพ ะธะทััะตะฝะพ. ะกะฟะฐัะธะฑะพ ๐')
        last_message = message


    number = random.randint(1, 44)
    if card in message.text.lower() and day in message.text.lower():
        bot.send_message(message.chat.id, dayly_card(number), parse_mode='HTML')
        if number > 22:
            number -= 22
            image = Image.open(f'{number}.jpg')
            image_rotate = image.rotate(180, expand=True)
            bot.send_photo(message.chat.id, image_rotate)
        else:
            image = Image.open(f'{number}.jpg')
            bot.send_photo(message.chat.id, image)
        image.close()

bot.polling()
